<!DOCTYPE html>
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
    <link rel="stylesheet" href="/css/style.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
            <script type="text/javascript">
                function buscar() {
                    let nome = document.getElementById("pesquisa").value;
                    let link = document.getElementById("btnBusca");
                    if (nome === "") {
                        link.href = "../../../home";
                    } else {
                        link.href = "../../../home/" + nome;
                    }
                }

            </script>

            <body style="background-color: black;">

                <header th:replace="~{fragment :: header}"></header> 
                <section>


                    <div class="pesquisa">
                        <input id="pesquisa" th:value="${nomepesquisa}" name="nomepesquisa" class="form-control-sm mt-4 col-md-5 Search" placeholder="Search">
                            <a id="btnBusca" class="btn btn-dark" onclick="buscar()">Search</a>
                    </div>

                    <div class="cardHome card" style="float: left;" th:each="prod,iterStat:${produto}">
                        <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel" >

                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img  th:each = "fImg:${fistImg}" th:if="${prod.id == fImg.fk_prodId}" th:src="@{/imagem/{imagem}(imagem = ${fImg.img})}" class=" homeImg " alt="...">                                             
                                </div>
                                <div th:each = "img:${outrasImg}" th:if="${prod.id == img.fk_prodId}" class="carousel-item">
                                    <img th:src="@{/imagem/{imagem}(imagem = ${img.img})}" class="homeImg" alt="...">                                             
                                </div>
                            </div>
                        </div>

                        <div class="card-body">
                            <h5 class="card-title homeCard-title" th:text="${prod.nomeProduto}"></h5>
                            <p class="card-text homeCard-text" th:text="'R$: '+${prod.valor}"></p>
                            <div class="estrelas">
                                <input type="radio" id="cm_star-empty" name="fb" value="" checked/>
                                <label for="cm_star-1"><i class="fa"></i></label>
                                <input type="radio" id="cm_star-1" name="fb" value="1"/>
                                <label for="cm_star-2"><i class="fa"></i></label>
                                <input type="radio" id="cm_star-2" name="fb" value="2"/>
                                <label for="cm_star-3"><i class="fa"></i></label>
                                <input type="radio" id="cm_star-3" name="fb" value="3"/>
                                <label for="cm_star-4"><i class="fa"></i></label>
                                <input type="radio" id="cm_star-4" name="fb" value="4"/>
                                <label for="cm_star-5"><i class="fa"></i></label>
                                <input type="radio" id="cm_star-5" name="fb" value="5"/>
                            </div>
                            <a class="btn btn-dark col-md-12 mb-2" th:href="@{../../adicionar/carrinho/{id}/1/add (id = ${prod.id})}">Adicionar ao Carrinho</a>
                            <a class="btn btn-dark col-md-12" th:href="@{../../../produto/detalheHome/{id}(id = ${prod.id})}">Detalhe do produto</a>
                        </div>
                    </div>

                </section>
            </body>
            </html>